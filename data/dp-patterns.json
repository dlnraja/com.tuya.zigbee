{
  "_meta": {
    "version": "1.0.0",
    "lastUpdated": "2025-12-02",
    "description": "Tuya DP Patterns Database - HEURISTIC FALLBACK ONLY",
    "warning": "DPs are NOT standardized. Always prefer: 1) Official PID schema, 2) Z2M/ZHA converters, 3) This table as last resort",
    "sources": [
      "Zigbee2MQTT converters",
      "ZHA quirks",
      "deCONZ DDF",
      "Community captures"
    ]
  },
  "confidenceLevels": {
    "official": "From Tuya IoT Platform PID schema - 100% reliable for that product",
    "community": "Seen in >=3 Z2M/ZHA/deCONZ converters for same device family",
    "heuristic": "Very common pattern, but NOT guaranteed - use as fallback only"
  },
  "domains": {
    "common_universal": {
      "description": "Ultra-frequent patterns across all device types",
      "patterns": [
        {
          "dp": 1,
          "name": "switch",
          "type": "bool",
          "range": [
            0,
            1
          ],
          "semantics": "onoff",
          "homeyCapabilities": [
            "onoff",
            "alarm_water",
            "alarm_smoke",
            "alarm_motion"
          ],
          "commonFor": [
            "switch",
            "plug",
            "relay",
            "sensor"
          ],
          "tuyaExamples": [
            "TS0001",
            "TS0002",
            "TS0011",
            "TS0121"
          ],
          "zclCluster": "0x0006",
          "confidence": "heuristic",
          "note": "Most common DP, but meaning varies: on/off for switches, alarm for sensors"
        },
        {
          "dp": 10,
          "name": "battery_percentage",
          "type": "value",
          "range": [
            0,
            100
          ],
          "semantics": "battery",
          "homeyCapabilities": [
            "measure_battery"
          ],
          "commonFor": [
            "sensor",
            "remote",
            "lock"
          ],
          "tuyaExamples": [
            "TS0201",
            "TS0203",
            "TS0041"
          ],
          "zclCluster": "0x0001",
          "confidence": "heuristic",
          "note": "Very common for battery devices, sometimes DP 100 instead"
        },
        {
          "dp": 13,
          "name": "child_lock",
          "type": "bool",
          "range": [
            0,
            1
          ],
          "semantics": "child_lock",
          "homeyCapabilities": [
            "child_lock"
          ],
          "commonFor": [
            "plug",
            "thermostat",
            "lock"
          ],
          "tuyaExamples": [
            "TS011F",
            "BHT-002"
          ],
          "zclCluster": null,
          "confidence": "heuristic",
          "note": "Sometimes DP 108 instead"
        }
      ]
    },
    "climate": {
      "description": "Temperature, humidity, pressure sensors",
      "patterns": [
        {
          "dp": 101,
          "name": "temperature",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "scale": 0.1,
          "unit": "°C",
          "semantics": "temperature",
          "homeyCapabilities": [
            "measure_temperature"
          ],
          "commonFor": [
            "climate_sensor",
            "thermostat"
          ],
          "tuyaExamples": [
            "TS0601",
            "WS-907",
            "SNZB-02"
          ],
          "zclCluster": "0x0402",
          "confidence": "community",
          "note": "Divide by 10 to get °C. Very stable pattern."
        },
        {
          "dp": 102,
          "name": "humidity",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "scale": 0.1,
          "unit": "%",
          "semantics": "humidity",
          "homeyCapabilities": [
            "measure_humidity"
          ],
          "commonFor": [
            "climate_sensor"
          ],
          "tuyaExamples": [
            "TS0601",
            "WS-907"
          ],
          "zclCluster": "0x0405",
          "confidence": "community",
          "note": "Divide by 10 to get %."
        },
        {
          "dp": 103,
          "name": "pressure",
          "type": "value",
          "range": [
            0,
            2000
          ],
          "scale": 0.01,
          "unit": "hPa",
          "semantics": "pressure",
          "homeyCapabilities": [
            "measure_pressure"
          ],
          "commonFor": [
            "weather_station"
          ],
          "tuyaExamples": [
            "TS0601"
          ],
          "zclCluster": "0x0403",
          "confidence": "heuristic",
          "note": "Less common, divide by 100."
        }
      ]
    },
    "cover": {
      "description": "Curtains, blinds, shutters, garage doors",
      "patterns": [
        {
          "dp": 2,
          "name": "cover_state",
          "type": "enum",
          "range": [
            0,
            1,
            2
          ],
          "values": {
            "0": "open",
            "1": "stop",
            "2": "close"
          },
          "semantics": "cover_state",
          "homeyCapabilities": [
            "windowcoverings_state"
          ],
          "commonFor": [
            "curtain",
            "blind",
            "shutter"
          ],
          "tuyaExamples": [
            "TS0601",
            "MS-108",
            "AM25"
          ],
          "zclCluster": "0x0102",
          "confidence": "community",
          "note": "Very stable for Tuya covers."
        },
        {
          "dp": 3,
          "name": "cover_position",
          "type": "value",
          "range": [
            0,
            100
          ],
          "unit": "%",
          "semantics": "position",
          "homeyCapabilities": [
            "windowcoverings_set"
          ],
          "commonFor": [
            "curtain",
            "blind"
          ],
          "tuyaExamples": [
            "TS0601",
            "AM25"
          ],
          "zclCluster": "0x0102",
          "confidence": "community",
          "note": "0=closed, 100=open (or inverted depending on motor)."
        },
        {
          "dp": 5,
          "name": "motor_fault",
          "type": "bool",
          "range": [
            0,
            1
          ],
          "semantics": "motor_blocked",
          "homeyCapabilities": [
            "alarm_motor"
          ],
          "commonFor": [
            "curtain"
          ],
          "tuyaExamples": [
            "TS0601"
          ],
          "zclCluster": null,
          "confidence": "heuristic",
          "note": "Over-current protection alarm."
        }
      ]
    },
    "thermostat": {
      "description": "Heating, cooling, TRV valves",
      "patterns": [
        {
          "dp": 4,
          "name": "target_temperature",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "scale": 0.1,
          "unit": "°C",
          "semantics": "setpoint",
          "homeyCapabilities": [
            "target_temperature"
          ],
          "commonFor": [
            "thermostat",
            "trv"
          ],
          "tuyaExamples": [
            "BHT-002",
            "BRT-100",
            "SEA801"
          ],
          "zclCluster": "0x0201",
          "confidence": "community",
          "note": "Divide by 10. Sometimes DP 16 instead."
        }
      ]
    },
    "air_quality": {
      "description": "CO2, VOC, PM2.5, formaldehyde sensors",
      "patterns": [
        {
          "dp": 114,
          "name": "co2",
          "type": "value",
          "range": [
            0,
            5000
          ],
          "unit": "ppm",
          "semantics": "co2",
          "homeyCapabilities": [
            "measure_co2"
          ],
          "commonFor": [
            "air_quality"
          ],
          "tuyaExamples": [
            "TS0601"
          ],
          "zclCluster": null,
          "confidence": "heuristic"
        },
        {
          "dp": 115,
          "name": "pm25",
          "type": "value",
          "range": [
            0,
            500
          ],
          "unit": "µg/m³",
          "semantics": "pm25",
          "homeyCapabilities": [
            "measure_pm25"
          ],
          "commonFor": [
            "air_quality"
          ],
          "tuyaExamples": [
            "TS0601"
          ],
          "zclCluster": null,
          "confidence": "heuristic"
        },
        {
          "dp": 117,
          "name": "voc",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "unit": "ppb",
          "semantics": "voc",
          "homeyCapabilities": [
            "measure_voc"
          ],
          "commonFor": [
            "air_quality"
          ],
          "tuyaExamples": [
            "TS0601"
          ],
          "zclCluster": null,
          "confidence": "heuristic"
        }
      ]
    },
    "lighting": {
      "description": "Bulbs, LED strips, dimmers",
      "patterns": [
        {
          "dp": 111,
          "name": "color_temperature",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "scale": 0.001,
          "semantics": "color_temp",
          "homeyCapabilities": [
            "light_temperature"
          ],
          "commonFor": [
            "bulb",
            "led_strip"
          ],
          "tuyaExamples": [
            "TS0502A",
            "TS0502B"
          ],
          "zclCluster": "0x0300",
          "confidence": "heuristic"
        },
        {
          "dp": 112,
          "name": "hue",
          "type": "value",
          "range": [
            0,
            360
          ],
          "unit": "degrees",
          "semantics": "hue",
          "homeyCapabilities": [
            "light_hue"
          ],
          "commonFor": [
            "rgb_bulb",
            "led_strip"
          ],
          "tuyaExamples": [
            "TS0503A",
            "TS0504A"
          ],
          "zclCluster": "0x0300",
          "confidence": "heuristic"
        },
        {
          "dp": 113,
          "name": "saturation",
          "type": "value",
          "range": [
            0,
            1000
          ],
          "scale": 0.001,
          "semantics": "saturation",
          "homeyCapabilities": [
            "light_saturation"
          ],
          "commonFor": [
            "rgb_bulb",
            "led_strip"
          ],
          "tuyaExamples": [
            "TS0503A",
            "TS0504A"
          ],
          "zclCluster": "0x0300",
          "confidence": "heuristic"
        }
      ]
    },
    "factory_debug": {
      "description": "Factory test, debug, hidden DPs - NOT RELIABLE",
      "warning": "These are firmware-specific, observed via reverse-engineering only",
      "patterns": [
        {
          "dp": 200,
          "name": "rf_test",
          "type": "value",
          "range": [
            0,
            255
          ],
          "confidence": "heuristic",
          "note": "Factory RF test mode"
        },
        {
          "dp": 240,
          "name": "mcu_test_or_presence",
          "type": "enum",
          "range": [
            0,
            4
          ],
          "confidence": "heuristic",
          "note": "Seen on Tuya modules (MCU test) and Aqara FP2 (presence event). NOT universal."
        },
        {
          "dp": 247,
          "name": "supply_voltage",
          "type": "value",
          "range": [
            0,
            999
          ],
          "unit": "mV",
          "confidence": "heuristic",
          "note": "Observed on some Tuya modules only."
        }
      ]
    }
  },
  "zclClusters": {
    "0x0000": {
      "name": "Basic",
      "dps": []
    },
    "0x0001": {
      "name": "PowerCfg",
      "dps": [
        10,
        100
      ],
      "note": "Battery"
    },
    "0x0006": {
      "name": "OnOff",
      "dps": [
        1
      ],
      "note": "Switch"
    },
    "0x0008": {
      "name": "LevelCtrl",
      "dps": [
        3
      ],
      "note": "Dimming"
    },
    "0x0102": {
      "name": "WindowCovering",
      "dps": [
        2,
        3,
        5
      ],
      "note": "Covers"
    },
    "0x0201": {
      "name": "Thermostat",
      "dps": [
        4,
        101
      ],
      "note": "HVAC"
    },
    "0x0300": {
      "name": "ColorCtrl",
      "dps": [
        111,
        112,
        113
      ],
      "note": "RGB"
    },
    "0x0402": {
      "name": "Temperature",
      "dps": [
        101
      ],
      "note": "Temp sensor"
    },
    "0x0405": {
      "name": "Humidity",
      "dps": [
        102
      ],
      "note": "Hum sensor"
    },
    "0x0500": {
      "name": "IASZone",
      "dps": [
        1
      ],
      "note": "Alarms"
    },
    "0xEF00": {
      "name": "TuyaPrivate",
      "dps": "ALL",
      "note": "All Tuya DPs"
    }
  }
}
