console.log("Comptage des drivers..."); const fs = require("fs"); const path = require("path"); let count = 0; const catalogPath = "catalog"; if (fs.existsSync(catalogPath)) { const categories = fs.readdirSync(catalogPath); categories.forEach(cat => { const tuyaPath = path.join(catalogPath, cat, "tuya"); if (fs.existsSync(tuyaPath)) { const drivers = fs.readdirSync(tuyaPath); count += drivers.length; console.log(`${cat}: ${drivers.length} drivers`); } }); } console.log(`Total: ${count} drivers`); console.log("::END::COUNT::OK");
