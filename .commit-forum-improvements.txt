feat: Add forum-inspired improvements - calibration, maintenance, UX enhancements (8 drivers)

ğŸŒ FORUM ANALYSIS & BEST PRACTICES IMPLEMENTATION

SOURCES ANALYZED:
âœ… Tuya Smart Life - Energy monitoring scaling factors
âœ… Tuya Cloud - Device control patterns
âœ… Device Capabilities - Flow card UX improvements
âœ… IKEA Tradfri - Manual control detection, Matter patterns
âœ… Aqara/Xiaomi - Lifeline reporting, offset calibration, reverse logic
âœ… Sonoff - Anti-patterns to avoid (maintenance lessons)
âœ… Ecodim - Dimming speed settings, feedback flows
âœ… Aqara Curtains - Maintenance actions

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
IMPROVEMENTS APPLIED (8 DRIVERS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ENERGY MONITORING SCALING FACTORS (2 drivers)
   Inspired by: Tuya Smart Life forum
   Problem: Voltage/current/power readings incorrect (scaled 1/10, 1/100)

   âœ… plug_smart - 3 scaling settings
   âœ… usb_outlet_advanced - 3 scaling settings

   Settings added:
   - voltage_scale (Ã·100, Ã·10, Ã—1, Ã—10)
   - current_scale (Ã·1000 mAâ†’A, Ã·100, Ã·10, Ã—1)
   - power_scale (Ã·10, Ã—1, Ã—10)

   User benefit: Fix incorrect power monitoring values

2. CLIMATE SENSOR OFFSET CALIBRATION (2 drivers)
   Inspired by: Aqara/Xiaomi app
   Problem: Temperature/humidity sensors need calibration

   âœ… air_quality_co2 - Temp & humidity offsets
   âœ… climate_sensor - Temp & humidity offsets

   Settings added:
   - temperature_offset (-10Â°C to +10Â°C, step 0.1)
   - humidity_offset (-30% to +30%, step 1)

   User benefit: Accurate sensor readings after calibration

3. CONTACT SENSOR REVERSE LOGIC (1 driver)
   Inspired by: Aqara Door/Window sensor
   Problem: Some sensors report inverted open/closed states

   âœ… contact_sensor - Reverse alarm logic

   Setting added:
   - reverse_alarm (checkbox to swap open/closed)

   User benefit: Fix inverted sensor behavior

4. CURTAIN MAINTENANCE ACTIONS (2 drivers)
   Inspired by: Aqara Curtain Controller forum issues
   Problem: Curtains lose calibration, need position reset

   âœ… curtain_motor - 2 maintenance actions
   âœ… curtain_motor_tilt - 2 maintenance actions

   Actions added:
   - curtain_calibrate (full open/close cycle)
   - curtain_reset_position (reset to 0%)

   User benefit: Fix curtain position drift without re-pairing

5. DIMMER SPEED SETTINGS (1 driver)
   Inspired by: Ecodim dimmer app
   Problem: Fixed dimming speed, no user control

   âœ… dimmer_wall_1gang - Dimming speed control

   Setting added:
   - dim_speed (Instant, Fast 0.5s, Medium 2s, Slow 5s)

   User benefit: Customizable dimming transitions

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PATTERNS IDENTIFIED (NOT YET IMPLEMENTED)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRIORITY MEDIUM (Short-term):
â–¡ Manual control detection (IKEA pattern)
  - Detect button/remote vs automation triggers
  - Flow card: "Manual control detected"

â–¡ Dimmer feedback flows (Ecodim pattern)
  - Sync dim level back to wall controllers
  - Prevent state desync

PRIORITY LOW (Long-term):
â–¡ Matter bridge support (IKEA Dirigera pattern)
â–¡ Advanced virtual capabilities (Device Capabilities pattern)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
VALIDATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… homey app validate --level publish: PASSED
âœ… homey app build: SUCCESS
âœ… 8 drivers enriched with new settings/actions
âœ… 14 backups created (backup-forum-improvements-*)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
USER BENEFITS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMMEDIATE FIXES:
âœ… Energy monitoring values now accurate (user-configurable scaling)
âœ… Temperature/humidity sensors can be calibrated
âœ… Contact sensors with inverted logic now work correctly
âœ… Curtains can be recalibrated without re-pairing
âœ… Dimming speed customizable per user preference

QUALITY IMPROVEMENTS:
âœ… More flexible device configuration
âœ… Better out-of-box experience
âœ… Reduced support requests for "wrong values"
âœ… Professional feature parity with Aqara/IKEA apps

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Created:
- FORUM_ANALYSIS_BEST_PRACTICES.md (comprehensive analysis)
- scripts/apply_forum_improvements.js (automated application)
- FORUM_IMPROVEMENTS_REPORT.json (detailed report)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STATISTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Forum sources analyzed: 8
Best practices extracted: 7
Drivers enhanced: 8
Settings added: 12
Actions added: 4
Backups created: 14

PREVIOUS COMMITS:
- 0771299c03: Flow cards fixes (134 registrations + 18 runListeners)
- a260c81daf: Phase 2 enrichment (26 manufacturer IDs)
- 9900df496d: Phase 1 enrichment (7 IDs)

CUMULATIVE VERSION: 5.5.436 â†’ 5.5.437
STATUS: âœ… PRODUCTION READY - FORUM IMPROVEMENTS APPLIED
DATE: 10 janvier 2026
