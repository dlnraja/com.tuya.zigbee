{
  "class": "heater",
  "capabilities": [
    "onoff",
    "target_temperature",
    "measure_temperature",
    "thermostat_mode"
  ],
  "zigbee": {
    "productId": [
      "TS0601_rad",
      "TS0601"
    ],
    "endpoints": {
      "1": {
        "clusters": [
          0,
          1,
          3,
          513,
          61184
        ],
        "bindings": [
          1,
          513
        ]
      }
    },
    "learnmode": {
      "image": "/drivers/radiator_controller/assets/learnmode.svg",
      "instruction": {
        "en": "Turn the switch on/off 3 times quickly",
        "fr": "Allumer/√©teindre l'interrupteur 3 fois rapidement"
      }
    },
    "manufacturerName": [
      "3reality",
      "_tze200_locansqn",
      "aduro",
      "adurosmart",
      "ajax",
      "aldi",
      "allegion",
      "aone",
      "atsmart",
      "aubess",
      "august",
      "aurora lighting",
      "avatto",
      "berker",
      "bingoelec",
      "bitron",
      "bitron home",
      "bitron video",
      "blitzwolf",
      "bosch",
      "brk",
      "broan",
      "bseed",
      "busch-jaeger",
      "bw-",
      "centralite",
      "climax",
      "climax technology",
      "comap",
      "connectivity standards alliance",
      "cooper",
      "coswall",
      "cree inc.",
      "danalock",
      "danfoss",
      "dawon",
      "dawon dns",
      "de",
      "diyruz",
      "dome",
      "dresden elektronik",
      "eaton",
      "eaton corporation",
      "ecolink",
      "ecosmart",
      "ecozy",
      "edp",
      "elko",
      "eltako",
      "enbrighten",
      "eurotronic",
      "feit",
      "feit electric",
      "finder",
      "first alert",
      "gewiss",
      "gira",
      "girier",
      "gledopto",
      "gocontrol",
      "hager",
      "heimgard",
      "iluminize",
      "ilux",
      "immax",
      "jasco",
      "jasco products",
      "jung",
      "keen",
      "konke",
      "konyks",
      "koreakoss",
      "koss",
      "ktnnkg",
      "leedarson",
      "leedarson lighting",
      "leviton manufacturing",
      "linear",
      "linkind",
      "livarno",
      "livarno lux",
      "livolo",
      "lk",
      "lonsonho",
      "lutron electronics",
      "matter",
      "mdt",
      "medion",
      "merten",
      "miboxer",
      "moes",
      "monoprice",
      "muller licht",
      "m√ºller licht",
      "namron",
      "nas-",
      "neo",
      "neo coolcam",
      "nortek",
      "nuki",
      "nutone",
      "paulmann licht",
      "paulmann licht gmbh",
      "perenio",
      "phoscon",
      "popp",
      "rev",
      "revogni",
      "ring llc",
      "rob",
      "robb",
      "ryra",
      "salus",
      "saswell",
      "securifi",
      "sengled",
      "sengled inc.",
      "sengoku",
      "sercomm",
      "shinasystem",
      "silvercrest",
      "sinope",
      "sinope technologies",
      "siterwell",
      "smartech",
      "smartvill",
      "spectrum brands",
      "sr-zg",
      "stelpro",
      "sunricher",
      "swann",
      "tedee",
      "terncy",
      "third reality",
      "third reality, inc",
      "thread",
      "trust",
      "trust international",
      "tuya",
      "u-tec",
      "ultraloq",
      "utec",
      "vimar",
      "vision",
      "visonic",
      "wallpad",
      "weinzierl",
      "winners",
      "woolley",
      "woox",
      "yagusmart",
      "yoolax",
      "zemismart",
      "zen",
      "zen thermostat",
      "zigbee alliance",
      "zigbee2mqtt"
    ]
  },
  "images": {
    "small": "drivers/radiator_controller/assets/images/small.png",
    "large": "drivers/radiator_controller/assets/images/large.png"
  },
  "settings": [
    {
      "type": "group",
      "label": {
        "en": "Radiator Configuration",
        "fr": "Configuration Radiateur"
      },
      "children": [
        {
          "id": "pilot_wire_type",
          "type": "dropdown",
          "label": {
            "en": "Pilot Wire Type",
            "fr": "Type Fil Pilote"
          },
          "hint": {
            "en": "Select the type of pilot wire system used by your electric radiator",
            "fr": "S√©lectionnez le type de syst√®me fil pilote de votre radiateur √©lectrique"
          },
          "value": "standard_6_orders",
          "values": [
            {
              "id": "standard_6_orders",
              "label": {
                "en": "üî• Standard 6 Orders (Confort/Eco/Hors-Gel/Arr√™t/Confort-1/Confort-2)",
                "fr": "üî• Standard 6 Ordres (Confort/Eco/Hors-Gel/Arr√™t/Confort-1/Confort-2)"
              }
            },
            {
              "id": "standard_4_orders",
              "label": {
                "en": "‚ö° Standard 4 Orders (Confort/Eco/Hors-Gel/Arr√™t)",
                "fr": "‚ö° Standard 4 Ordres (Confort/Eco/Hors-Gel/Arr√™t)"
              }
            },
            {
              "id": "simple_on_off",
              "label": {
                "en": "üîå Simple ON/OFF",
                "fr": "üîå Simple MARCHE/ARR√äT"
              }
            }
          ]
        },
        {
          "id": "diode_type",
          "type": "dropdown",
          "label": {
            "en": "Diode Configuration",
            "fr": "Configuration Diode"
          },
          "hint": {
            "en": "Hardware diode setup for pilot wire control (1N4007 recommended)",
            "fr": "Configuration mat√©rielle diode pour contr√¥le fil pilote (1N4007 recommand√©e)"
          },
          "value": "single_1n4007",
          "values": [
            {
              "id": "single_1n4007",
              "label": {
                "en": "üî¥ Single 1N4007 (Mono-directional)",
                "fr": "üî¥ Simple 1N4007 (Mono-directionnel)"
              }
            },
            {
              "id": "dual_1n4007",
              "label": {
                "en": "üî¥üî¥ Dual 1N4007 (Bi-directional)",
                "fr": "üî¥üî¥ Double 1N4007 (Bi-directionnel)"
              }
            },
            {
              "id": "none",
              "label": {
                "en": "‚ö™ No Diode (Direct connection)",
                "fr": "‚ö™ Pas de Diode (Connexion directe)"
              }
            }
          ]
        },
        {
          "id": "heating_mode",
          "type": "dropdown",
          "label": {
            "en": "Default Heating Mode",
            "fr": "Mode Chauffage par D√©faut"
          },
          "value": "confort",
          "values": [
            {
              "id": "confort",
              "label": {
                "en": "üè† Confort (100%)",
                "fr": "üè† Confort (100%)"
              }
            },
            {
              "id": "eco",
              "label": {
                "en": "üå± √âco (-3¬∞C/4¬∞C)",
                "fr": "üå± √âco (-3¬∞C/4¬∞C)"
              }
            },
            {
              "id": "confort_minus_1",
              "label": {
                "en": "üå°Ô∏è Confort -1¬∞C",
                "fr": "üå°Ô∏è Confort -1¬∞C"
              }
            },
            {
              "id": "confort_minus_2",
              "label": {
                "en": "‚ùÑÔ∏è Confort -2¬∞C",
                "fr": "‚ùÑÔ∏è Confort -2¬∞C"
              }
            },
            {
              "id": "anti_freeze",
              "label": {
                "en": "üßä Hors-Gel (7¬∞C)",
                "fr": "üßä Hors-Gel (7¬∞C)"
              }
            },
            {
              "id": "off",
              "label": {
                "en": "‚õî Arr√™t",
                "fr": "‚õî Arr√™t"
              }
            }
          ]
        },
        {
          "id": "enable_scheduling",
          "type": "checkbox",
          "label": {
            "en": "Enable Smart Scheduling",
            "fr": "Activer Programmation Intelligente"
          },
          "hint": {
            "en": "Allow automatic mode switching based on time and presence",
            "fr": "Permettre le changement automatique de mode selon l'heure et la pr√©sence"
          },
          "value": false
        },
        {
          "id": "disable_power_monitoring",
          "type": "checkbox",
          "label": {
            "en": "Disable Energy Monitoring",
            "fr": "D√©sactiver Surveillance √ânerg√©tique"
          },
          "hint": {
            "en": "Radiators with pilot wire don't provide accurate energy readings",
            "fr": "Les radiateurs avec fil pilote ne fournissent pas de mesures √©nerg√©tiques pr√©cises"
          },
          "value": true
        }
      ]
    },
    {
      "type": "group",
      "label": {
        "en": "Advanced Settings",
        "fr": "Param√®tres Avanc√©s"
      },
      "children": [
        {
          "id": "signal_duration_ms",
          "type": "number",
          "label": {
            "en": "Signal Duration (ms)",
            "fr": "Dur√©e Signal (ms)"
          },
          "hint": {
            "en": "Duration of pilot wire signal pulses (typically 500-2000ms)",
            "fr": "Dur√©e des impulsions signal fil pilote (typiquement 500-2000ms)"
          },
          "value": 1000,
          "min": 100,
          "max": 5000,
          "step": 100
        },
        {
          "id": "signal_interval_s",
          "type": "number",
          "label": {
            "en": "Signal Interval (seconds)",
            "fr": "Intervalle Signal (secondes)"
          },
          "hint": {
            "en": "Time between pilot wire signals (typically 5-60 seconds)",
            "fr": "Temps entre les signaux fil pilote (typiquement 5-60 secondes)"
          },
          "value": 30,
          "min": 5,
          "max": 300,
          "step": 5
        },
        {
          "id": "override_thermostat",
          "type": "checkbox",
          "label": {
            "en": "Override Radiator Thermostat",
            "fr": "Forcer Thermostat Radiateur"
          },
          "hint": {
            "en": "Force radiator to ignore its internal thermostat (advanced users only)",
            "fr": "Forcer le radiateur √† ignorer son thermostat interne (utilisateurs avanc√©s uniquement)"
          },
          "value": false
        },
        {
          "id": "debug_logging",
          "type": "checkbox",
          "label": {
            "en": "Enable Debug Logging",
            "fr": "Activer Logs Debug"
          },
          "hint": {
            "en": "Log detailed pilot wire signals for troubleshooting",
            "fr": "Enregistrer les signaux fil pilote d√©taill√©s pour d√©pannage"
          },
          "value": false
        }
      ]
    }
  ],
  "name": {
    "en": "Electric Radiator Controller (Pilot Wire)",
    "fr": "Contr√¥leur Radiateur √âlectrique (Fil Pilote)",
    "nl": "Radiator Controller",
    "de": "Heizk√∂rpersteuerung"
  },
  "platforms": [
    "local"
  ],
  "connectivity": [
    "zigbee"
  ],
  "capabilitiesOptions": {
    "onoff": {
      "title": {
        "en": "Radiator Power",
        "fr": "Alimentation Radiateur"
      },
      "preventInsights": false
    },
    "target_temperature": {
      "title": {
        "en": "Target Temperature",
        "fr": "Temp√©rature Cible"
      },
      "min": 5,
      "max": 30,
      "step": 0.5,
      "units": {
        "en": "¬∞C"
      }
    },
    "thermostat_mode": {
      "title": {
        "en": "Heating Mode",
        "fr": "Mode Chauffage"
      },
      "preventInsights": false
    }
  },
  "learnmode": {
    "image": "./assets/learnmode.svg",
    "instruction": {
      "en": "Press and hold the reset button for 5 seconds until the LED blinks rapidly",
      "fr": "Appuyez et maintenez le bouton reset pendant 5 secondes jusqu'√† ce que la LED clignote rapidement"
    }
  },
  "energy": {
    "approximation": {
      "usageConstant": 1500
    }
  },
  "flow": {
    "triggers": [
      {
        "id": "radiator_mode_changed",
        "title": {
          "en": "Heating mode changed",
          "fr": "Mode chauffage chang√©"
        },
        "tokens": [
          {
            "name": "mode",
            "type": "string",
            "title": {
              "en": "Mode"
            },
            "example": "confort"
          }
        ]
      },
      {
        "id": "pilot_signal_sent",
        "title": {
          "en": "Pilot wire signal sent",
          "fr": "Signal fil pilote envoy√©"
        },
        "tokens": [
          {
            "name": "signal_type",
            "type": "string",
            "title": {
              "en": "Signal Type"
            },
            "example": "confort"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "radiator_is_heating",
        "title": {
          "en": "Radiator !{{is|isn't}} heating",
          "fr": "Radiateur !{{chauffe|ne chauffe pas}}"
        }
      },
      {
        "id": "heating_mode_is",
        "title": {
          "en": "Heating mode !{{is|isn't}} [[mode]]",
          "fr": "Mode chauffage !{{est|n'est pas}} [[mode]]"
        },
        "args": [
          {
            "type": "dropdown",
            "name": "mode",
            "values": [
              {
                "id": "confort",
                "title": {
                  "en": "Confort"
                }
              },
              {
                "id": "eco",
                "title": {
                  "en": "√âco"
                }
              },
              {
                "id": "anti_freeze",
                "title": {
                  "en": "Hors-Gel"
                }
              },
              {
                "id": "off",
                "title": {
                  "en": "Arr√™t"
                }
              }
            ]
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "set_heating_mode",
        "title": {
          "en": "Set heating mode to [[mode]]",
          "fr": "R√©gler mode chauffage sur [[mode]]"
        },
        "args": [
          {
            "type": "dropdown",
            "name": "mode",
            "values": [
              {
                "id": "confort",
                "title": {
                  "en": "üè† Confort"
                }
              },
              {
                "id": "eco",
                "title": {
                  "en": "üå± √âco"
                }
              },
              {
                "id": "confort_minus_1",
                "title": {
                  "en": "üå°Ô∏è Confort -1¬∞C"
                }
              },
              {
                "id": "confort_minus_2",
                "title": {
                  "en": "‚ùÑÔ∏è Confort -2¬∞C"
                }
              },
              {
                "id": "anti_freeze",
                "title": {
                  "en": "üßä Hors-Gel"
                }
              },
              {
                "id": "off",
                "title": {
                  "en": "‚õî Arr√™t"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "send_pilot_signal",
        "title": {
          "en": "Send pilot wire signal [[signal]]",
          "fr": "Envoyer signal fil pilote [[signal]]"
        },
        "args": [
          {
            "type": "dropdown",
            "name": "signal",
            "values": [
              {
                "id": "confort",
                "title": {
                  "en": "Confort (0V)"
                }
              },
              {
                "id": "eco",
                "title": {
                  "en": "√âco (230V neg)"
                }
              },
              {
                "id": "anti_freeze",
                "title": {
                  "en": "Hors-Gel (230V pos)"
                }
              },
              {
                "id": "off",
                "title": {
                  "en": "Arr√™t (230V alt)"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "set_temperature_offset",
        "title": {
          "en": "Set temperature offset",
          "nl": "Temperatuur offset instellen",
          "fr": "D√©finir offset temp√©rature",
          "de": "Temperatur-Offset einstellen"
        },
        "titleFormatted": {
          "en": "Set temperature offset to [[offset]]¬∞C",
          "nl": "Stel temperatuur offset in op [[offset]]¬∞C",
          "fr": "D√©finir offset temp√©rature √† [[offset]]¬∞C"
        },
        "hint": {
          "en": "Adjust the temperature reading by adding an offset value",
          "nl": "Pas de temperatuurmeting aan door een offset toe te voegen"
        },
        "args": [
          {
            "name": "offset",
            "type": "range",
            "min": -5,
            "max": 5,
            "step": 0.5,
            "label": "¬∞C"
          }
        ]
      }
    ]
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "radiator_setup"
      }
    },
    {
      "id": "radiator_setup",
      "template": "template_radiator_setup"
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ]
}
