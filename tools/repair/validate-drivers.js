const fs = require("fs"); const path = require("path"); console.log("ğŸ” Validation complÃ¨te des drivers..."); const drivers = ["plug-tuya-universal", "climate-trv-tuya", "cover-curtain-tuya", "remote-scene-tuya"]; let allValid = true; drivers.forEach(d => { const dir = `drivers/${d}`; const compose = `${dir}/driver.compose.json`; const device = `${dir}/device.js`; const assets = `${dir}/assets`; console.log(`\nğŸ“ ${d}:`); if (fs.existsSync(compose)) { console.log(`  âœ… driver.compose.json`); } else { console.log(`  âŒ driver.compose.json manquant`); allValid = false; } if (fs.existsSync(device)) { console.log(`  âœ… device.js`); } else { console.log(`  âŒ device.js manquant`); allValid = false; } if (fs.existsSync(assets)) { console.log(`  âœ… assets/`); } else { console.log(`  âŒ assets/ manquant`); allValid = false; } }); if (allValid) { console.log("\nğŸ‰ Tous les drivers sont valides !"); console.log("::END::VALIDATION_COMPLETE::OK"); } else { console.log("\nâŒ ProblÃ¨mes dÃ©tectÃ©s dans les drivers"); console.log("::END::VALIDATION_COMPLETE::FAIL"); }
