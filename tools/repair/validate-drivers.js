const fs = require("fs"); const path = require("path"); console.log("🔍 Validation complète des drivers..."); const drivers = ["plug-tuya-universal", "climate-trv-tuya", "cover-curtain-tuya", "remote-scene-tuya"]; let allValid = true; drivers.forEach(d => { const dir = `drivers/${d}`; const compose = `${dir}/driver.compose.json`; const device = `${dir}/device.js`; const assets = `${dir}/assets`; console.log(`\n📁 ${d}:`); if (fs.existsSync(compose)) { console.log(`  ✅ driver.compose.json`); } else { console.log(`  ❌ driver.compose.json manquant`); allValid = false; } if (fs.existsSync(device)) { console.log(`  ✅ device.js`); } else { console.log(`  ❌ device.js manquant`); allValid = false; } if (fs.existsSync(assets)) { console.log(`  ✅ assets/`); } else { console.log(`  ❌ assets/ manquant`); allValid = false; } }); if (allValid) { console.log("\n🎉 Tous les drivers sont valides !"); console.log("::END::VALIDATION_COMPLETE::OK"); } else { console.log("\n❌ Problèmes détectés dans les drivers"); console.log("::END::VALIDATION_COMPLETE::FAIL"); }
