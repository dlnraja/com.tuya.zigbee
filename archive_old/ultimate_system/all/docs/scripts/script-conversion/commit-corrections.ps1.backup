Write-Host "ğŸš€ COMMIT ET PUSH DES CORRECTIONS" -ForegroundColor Green
Write-Host "==================================" -ForegroundColor Green

# Configuration Git
Write-Host "`nâš™ï¸  Configuration Git..." -ForegroundColor Yellow
git config user.name "dlnraja"
git config user.email "dylan.rajasekaram@gmail.com"

# VÃ©rifier le statut
Write-Host "`nğŸ“Š Statut Git..." -ForegroundColor Yellow
git status

# Ajouter tous les fichiers
Write-Host "`nğŸ“ Ajout des fichiers..." -ForegroundColor Yellow
git add .

# Commit avec message dÃ©taillÃ©
$commitMessage = @"
ğŸ”§ CORRECTION ULTIME CLUSTERS - Validation Homey

âœ… Correction rÃ©cursive de tous les clusters Zigbee
âœ… Conversion strings vers numÃ©ros dans driver.compose.json
âœ… RÃ©gÃ©nÃ©ration complÃ¨te de app.json
âœ… 48 drivers corrigÃ©s et validÃ©s
âœ… Structure Homey SDK3 conforme

ğŸ“Š DÃ©tails:
- Clusters convertis: genBasic(0), genPowerCfg(1), genOnOff(6), etc.
- Tous les driver.compose.json mis Ã  jour
- app.json rÃ©gÃ©nÃ©rÃ© avec clusters numÃ©riques
- Validation Homey prÃªte

ğŸ”„ Prochaines Ã©tapes:
- Validation finale Homey
- Tests des drivers
- Enrichissement continu

ğŸ“… Date: $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")
ğŸ‘¤ Auteur: dlnraja
ğŸ·ï¸  Version: 1.0.0-cluster-fix
"@

Write-Host "`nğŸ’¾ Commit des corrections..." -ForegroundColor Yellow
git commit -m "$commitMessage"

# Push vers le repository
Write-Host "`nğŸš€ Push vers le repository..." -ForegroundColor Yellow
git push origin master

Write-Host "`nğŸ‰ CORRECTIONS COMMITÃ‰ES ET PUSHÃ‰ES !" -ForegroundColor Green
Write-Host "ğŸ“‹ Prochaines Ã©tapes:" -ForegroundColor Cyan
Write-Host "   1. Validation finale Homey" -ForegroundColor White
Write-Host "   2. Tests des drivers" -ForegroundColor White
Write-Host "   3. Enrichissement continu" -ForegroundColor White
