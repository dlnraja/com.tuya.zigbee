Write-Host "🔧 CORRECTION GLOBALE DES DRIVERS..."; $drivers = @("drivers/generic/driver.compose.json", "drivers/tuya_zigbee/driver.compose.json", "drivers/zigbee/driver.compose.json"); foreach($driver in $drivers) { if(Test-Path $driver) { Write-Host "Correction de $driver"; $content = Get-Content $driver -Raw; if($content -notmatch "endpoints") { $content = $content -replace "productId": \[([^\]]+)\]", "productId": [$1],`n    "endpoints": {`n      "1": {`n        "clusters": [0, 6]`n      }`n    }"; Set-Content $driver $content; Write-Host "✅ $driver corrigé !"; } else { Write-Host "ℹ️ $driver déjà correct"; } } else { Write-Host "❌ $driver non trouvé"; } } Write-Host "🎉 CORRECTION TERMINÉE !";
