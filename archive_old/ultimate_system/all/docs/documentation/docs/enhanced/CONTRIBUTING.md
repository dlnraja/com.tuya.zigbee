# Guide de Contribution - Universal Universal TUYA Zigbee Device## üéØ **Objectif du projet**Ce projet √©tend l'√©cosyst√®me Homey Tuya Zigbee en ajoutant des **device IDs manquants** pour les produits Tuya r√©cents (_TZ3000, _TZ2000, _TZE200, etc.) sans passer par Zigbee2MQTT ou Home Assistant.## üìã **Comment ajouter un nouveau device**### 1. **Identifier le device**- R√©cup√©rer le **Device ID** depuis l'app Tuya Smart ou Zigbee2MQTT- Identifier les **clusters** utilis√©s (standards Zigbee + clusters Tuya sp√©cifiques 0xEF00)- D√©terminer les **capabilities** Homey n√©cessaires### 2. **Cr√©er le driver**```javascript// Template de driver pour un interrupteur simplemodule.exports = { id: 'switch_tuya_TZ3000_example', name: { en: 'Tuya Switch TZ3000' }, class: 'socket', capabilities: ['onoff'], images: { large: 'assets/icon.svg', small: 'assets/icon.svg' }, zigbee: { manufacturerName: ['TUYATEC'], productId: ['TZ3000_example'], endpoints: { 1: { clusters: ['genOnOff', 'genBasic'], bindings: ['genOnOff'] } } }, settings: { // Configuration sp√©cifique si n√©cessaire }};```### 3. **Ajouter dans app.json**```json{ "id": "universal.tuya.zigbee.device", "drivers": [ { "id": "switch_tuya_TZ3000_example", "name": { "en": "Tuya Switch TZ3000" }, "class": "socket", "capabilities": ["onoff"], "images": { "large": "assets/icon.svg", "small": "assets/icon.svg" }, "zigbee": { "manufacturerName": ["TUYATEC"], "productId": ["TZ3000_example"], "endpoints": { "1": { "clusters": ["genOnOff", "genBasic"], "bindings": ["genOnOff"] } } } } ]}```### 4. **Tester le driver**```bash# Validation localehomey app validate# Test sur Homeyhomey app run```## üîß **Types de devices support√©s**### **Interrupteurs et Prises**- Interrupteurs simples (on/off)- Interrupteurs dimmers- Prises intelligentes- Modules de contr√¥le### **√âclairage**- Ampoules LED- Bandes LED- Spots encastr√©s- Contr√¥leurs RGB### **Thermostats et Vannes**- Vannes TRV (Thermostatic Radiator Valve)- Thermostats d'ambiance- Contr√¥leurs de chauffage### **Capteurs**- Capteurs de temp√©rature- Capteurs d'humidit√©- D√©tecteurs de mouvement- D√©tecteurs de fuite- Capteurs de contact## üìä **Structure des clusters**### **Clusters Zigbee Standards**- `genBasic` : Informations de base- `genOnOff` : Contr√¥le on/off- `genLevelCtrl` : Contr√¥le de luminosit√©- `msTemperatureMeasurement` : Temp√©rature- `msRelativeHumidity` : Humidit√©### **Clusters Tuya Sp√©cifiques**- `0xEF00` : Clusters Tuya personnalis√©s- `0xE001` : Nouveaux clusters Tuya v2- `0xE002` : Nouveaux clusters Tuya v3## üöÄ **Processus de contribution**### **1. Fork et Clone**```bashgit clone https://github.com/dlnraja/universal.tuya.zigbee.device.gitcd universal.tuya.zigbee.device```### **2. Cr√©er une branche**```bashgit checkout -b feature/new-device-TZ3000_example```### **3. Ajouter le driver**- Cr√©er le fichier driver dans `drivers/sdk3/`- Ajouter l'entr√©e dans `app.json`- Tester localement### **4. Validation**```bash# V√©rifier la syntaxenpm run lint# Valider l'apphomey app validate# Tester le buildnpm run build```### **5. Pull Request**- Description claire du device ajout√©- Screenshots si possible- Test sur Homey r√©el## üìù **Template de Pull Request**```markdown## Nouveau Device : [Nom du Device]### Device ID- **Manufacturer** : TUYATEC- **Product ID** : TZ3000_example- **Type** : Interrupteur simple### Clusters utilis√©s- `genOnOff` : Contr√¥le on/off- `genBasic` : Informations de base### Capabilities Homey- `onoff` : Contr√¥le basique### Test√© sur- [ ] Homey Pro- [ ] Homey Bridge- [ ] Firmware Tuya : [version]### Screenshots[Ins√©rer captures d'√©cran si disponible]```## ‚ö†Ô∏è **Points d'attention**### **1. √âviter les conflits**- V√©rifier que le device ID n'existe pas d√©j√†- Utiliser des noms uniques pour les drivers- Tester la compatibilit√© avec l'app officielle### **2. Validation des clusters**- Identifier tous les clusters utilis√©s- Tester les bindings n√©cessaires- V√©rifier la compatibilit√© firmware### **3. Documentation**- Documenter les settings sp√©cifiques- Expliquer les limitations connues- Ajouter des exemples d'utilisation## üõ†Ô∏è **Outils utiles**### **Zigbee2MQTT**- Pour identifier les clusters et device IDs- Documentation : https://www.zigbee2mqtt.io/### **Tuya IoT Platform**- Pour v√©rifier les sp√©cifications produits- Documentation : https://developer.tuya.com/### **Homey Apps SDK**- Documentation officielle : https://apps.developer.homey.app/## üìû **Support**- **Issues GitHub** : Pour les bugs et demandes- **Forum Homey** : https://community.homey.app/t/app-community-universal-tuya-zigbee-device/140352- **Discord** : [Lien √† ajouter]---*Merci de contribuer √† l'√©cosyst√®me Homey Tuya Zigbee !*