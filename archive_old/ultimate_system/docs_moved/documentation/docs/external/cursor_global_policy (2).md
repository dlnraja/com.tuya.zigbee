# ✅ CURSOR MEGA PROMPT – Projet `com.tuya.zigbee` (GLOBAL PATCH MODE)

## 📅 Dernière génération : 2025-07-28 04:51:26

---

## 🧠 Instructions permanentes pour Cursor (tous projets)

🛠️ GLOBAL PATCH MODE — Enable across all future sessions & projects

Cursor must always apply this full prompt (recovery, queue, anti-crash, multilingual README, Git cleanup, tuya-light sync, dashboard generation...) to **any project opened** unless explicitly disabled.

🔁 Act as if this prompt is the default configuration template:
- Load `cursor_todo_queue.md` on launch
- Auto-resume incomplete tasks
- Enforce file coherence, commit cleaning, `.gitignore` protection
- Always structure multilingual files by block (EN > FR > NL > TA)
- Apply anti-loss routines after every crash or reload
- Validate every driver, changelog, and doc before push
- Prevent Cursor-based logs, crash mentions, YOLO scripts, or local system paths from entering repo history
- Use this logic even after full restarts, crashes, updates

⚠️ Never discard this policy unless a `reset_cursor_policy: true` is explicitly called.

---

## 🔁 REPRISE TOTALE DU PROJET `com.tuya.zigbee`

1. ⛔ Ignore toutes les anciennes tâches incomplètes ou bloquées.  
2. 🔄 Recharge entièrement le contexte de tous les fichiers actifs, incluant :
   - `cursor_r_capitulatif_des_taches_et_avan.md`
   - `tuya_zigbee_cursor_bundle*.txt`
   - `mega_prompt_cursor_tuya.txt`
   - Fichiers dans `D:/Download/fold/`
3. 🧠 Ouvre `cursor_todo_queue.md` et exécute chaque tâche `- [ ]` une par une.
4. ♻️ Restaure les instructions crashées depuis tous les fichiers visibles ou temporaires
5. 🧹 Nettoie :
   - Scripts locaux, chemins absolus, commits erronés ou mentions YOLO
   - Réécrit tous les commits : `feat(...): ... // FR: ...`
6. 📦 Crée ou corrige `tuya-light` :
   - Pas d’IA ni d’automatisation
   - Compatible `homey app install`
   - Génère `.zip` propre + README enrichi
7. 🔁 Sync `master` → `tuya-light` mensuellement
   - Push vers `tuya-light-repo`
8. 📘 Fichiers attendus :
   - `README.md` multilingue par blocs
   - `TODO_TRACKER.md`
   - `docs/index.html`
   - `ref/` enrichi (Zigbee specs)
9. 🤖 Workflows GitHub :
   - `update-docs-and-sync.yml`
   - `validate-sdk.yml`
   - `release-tuya-light.yml`
   - `translate-commits.yml`
10. 🛡️ Anti-perte :
    - Toujours restaurer les files queues perdues
    - Toujours relancer `cursor_todo_queue.md`

---
---

⏱️ If Cursor remains stuck more than 3 seconds on a prompt, automatically simulate an Enter/Return keypress to force progression and continue the queue.
