name: Homey App Validate

on:
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]
  workflow_dispatch:

jobs:
  validate:
    name: Validate Homey App
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ“¥ Checkout code
        uses: actions/checkout@v4
        
      - name: âœ… Validate Homey App
        uses: athombv/github-action-homey-app-validate@master
        with:
          level: publish
          
      - name: ðŸ“Š Generate validation summary
        if: always()
        run: |
          echo "# ðŸŽ¯ Homey App Validation" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "âœ… **Status:** App validated successfully" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ“¦ **Level:** publish" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ”§ **SDK:** 3" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ“… **Date:** $(date -u +"%Y-%m-%d %H:%M:%S UTC")" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ”— **Commit:** ${{ github.sha }}" >> $GITHUB_STEP_SUMMARY
          echo "ðŸŒ¿ **Branch:** ${{ github.ref_name }}" >> $GITHUB_STEP_SUMMARY
