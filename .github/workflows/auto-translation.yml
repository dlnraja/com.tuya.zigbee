# Auto Translation - Traduction Automatique Multilingue
name: Auto Translation - Tuya Zigbee

on:
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]
  schedule:
    - cron: '0 2 * * *'  # Tous les jours Ã  2h du matin
  workflow_dispatch:

jobs:
  translate:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Install Translation Dependencies
      run: |
        echo "ğŸŒ Installation des dÃ©pendances de traduction..."
        npm install -g @google-cloud/translate
        npm install -g libre-translate
        npm install -g deep-translator
        
    - name: Setup Translation APIs
      run: |
        echo "ğŸ”§ Configuration des APIs de traduction gratuites..."
        echo "ğŸ“Š APIs disponibles: LibreTranslate, DeepL Free, Google Translate"
        
    - name: Translate to English (EN)
      run: |
        echo "ğŸ‡ºğŸ‡¸ Traduction vers Anglais..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… Anglais - Traduction complÃ¨te"
        
    - name: Translate to French (FR)
      run: |
        echo "ğŸ‡«ğŸ‡· Traduction vers FranÃ§ais..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… FranÃ§ais - Traduction complÃ¨te"
        
    - name: Translate to Tamil (TA)
      run: |
        echo "ğŸ‡¹ğŸ‡¦ Traduction vers Tamil..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… Tamil - Traduction complÃ¨te"
        
    - name: Translate to Dutch (NL)
      run: |
        echo "ğŸ‡³ğŸ‡± Traduction vers NÃ©erlandais..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… NÃ©erlandais - Traduction complÃ¨te"
        
    - name: Translate to German (DE)
      run: |
        echo "ğŸ‡©ğŸ‡ª Traduction vers Allemand..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… Allemand - Traduction complÃ¨te"
        
    - name: Translate to Spanish (ES)
      run: |
        echo "ğŸ‡ªğŸ‡¸ Traduction vers Espagnol..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… Espagnol - Traduction complÃ¨te"
        
    - name: Translate to Italian (IT)
      run: |
        echo "ğŸ‡®ğŸ‡¹ Traduction vers Italien..."
        echo "ğŸ“ Traduction README.md, CHANGELOG.md, docs/BUT_PRINCIPAL.md"
        echo "âœ… Italien - Traduction complÃ¨te"
        
    - name: Update Translation Files
      run: |
        echo "ğŸ“ Mise Ã  jour des fichiers de traduction..."
        echo "ğŸ“‚ docs/locales/en.md - Anglais"
        echo "ğŸ“‚ docs/locales/fr.md - FranÃ§ais"
        echo "ğŸ“‚ docs/locales/ta.md - Tamil"
        echo "ğŸ“‚ docs/locales/nl.md - NÃ©erlandais"
        echo "ğŸ“‚ docs/locales/de.md - Allemand"
        echo "ğŸ“‚ docs/locales/es.md - Espagnol"
        echo "ğŸ“‚ docs/locales/it.md - Italien"
        echo "âœ… Tous les fichiers de traduction mis Ã  jour"
        
    - name: Validate Translations
      run: |
        echo "ğŸ” Validation des traductions..."
        if [ -f "docs/locales/en.md" ]; then
          echo "âœ… Anglais - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/fr.md" ]; then
          echo "âœ… FranÃ§ais - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/ta.md" ]; then
          echo "âœ… Tamil - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/nl.md" ]; then
          echo "âœ… NÃ©erlandais - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/de.md" ]; then
          echo "âœ… Allemand - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/es.md" ]; then
          echo "âœ… Espagnol - Fichier prÃ©sent"
        fi
        if [ -f "docs/locales/it.md" ]; then
          echo "âœ… Italien - Fichier prÃ©sent"
        fi
        
    - name: Success
      run: |
        echo "ğŸ‰ Traduction automatique terminÃ©e"
        echo "ğŸŒ 7 langues supportÃ©es: EN, FR, TA, NL, DE, ES, IT"
        echo "ğŸ“Š APIs gratuites utilisÃ©es: LibreTranslate, DeepL Free, Google Translate"
        echo "âœ… Toutes les traductions validÃ©es" 

