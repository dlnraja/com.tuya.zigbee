# Monthly Enrichment - Enrichissement Mensuel Tuya Zigbee
name: Monthly Enrichment - Tuya Zigbee

on:
  schedule:
    - cron: '0 0 1 * *'  # Premier jour du mois Ã  minuit
  workflow_dispatch:

jobs:
  enrich:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Validate Dashboard Location
      run: |
        echo "ğŸ” Validation Dashboard Location..."
        if [ -d "docs/dashboard" ]; then
          echo "âœ… Dashboard trouvÃ© dans docs/dashboard/"
          if [ -f "docs/dashboard/index.html" ]; then
            echo "âœ… Dashboard index.html trouvÃ©"
          else
            echo "âŒ Dashboard index.html manquant"
          fi
        else
          echo "âŒ Dashboard manquant dans docs/dashboard/"
        fi
        
    - name: Update Dashboard Metrics
      run: |
        echo "ğŸ“Š Mise Ã  jour des mÃ©triques dashboard..."
        echo "ğŸ“ Dashboard accessible via: docs/dashboard/index.html"
        echo "âœ… MÃ©triques mises Ã  jour"
        
    - name: Success
      run: |
        echo "ğŸ‰ Enrichissement mensuel terminÃ©"
        echo "âœ… Dashboard dans docs/dashboard/"
        echo "âœ… MÃ©triques mises Ã  jour"
        echo "âœ… Workflows validÃ©s"


