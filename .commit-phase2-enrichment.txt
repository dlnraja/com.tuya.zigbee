feat: Phase 2 enrichment - 7 IDs from Z2M + GitHub PRs (thermostat, radiator, switches)

ğŸŒ ENRICHISSEMENT PHASE 2 - SOURCES ZIGBEE2MQTT + GITHUB

ANALYSE EXHAUSTIVE COMPLÃ‰TÃ‰E:
âœ… Forum Homey (pages 1-46)
âœ… GitHub issues/PRs (JohanBendz repo)
âœ… Zigbee2MQTT database
âœ… User diagnostic logs
âœ… Device images

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHASE 2: MANUFACTURER IDs AJOUTÃ‰S (7 nouveaux)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HIGH PRIORITY - ZIGBEE2MQTT SUPPORTED (3):

1. thermostat_tuya_dp: +1 ID (27 â†’ 28)
   â€¢ _TZE200_PAY2BYAX
   Source: Z2M database
   Reason: User requests, heating season

2. switch_4gang: +1 ID (11 â†’ 12)
   â€¢ _TZE204_AOCLFNXZ
   Source: Z2M database
   Reason: Popular device, 4-gang variant

3. radiator_valve: +1 ID (67 â†’ 68)
   â€¢ _TZE200_SGPEACQP
   Source: Z2M database
   Reason: Heating control, high demand

GITHUB PULL REQUESTS (2):

4. water_leak_sensor: +1 ID (39 â†’ 40)
   â€¢ EWELINK (SQ510A model)
   Source: GitHub PR #1171 by semolex
   Reason: eWeLink manufacturer support

5. motion_sensor: Already present
   â€¢ _TZ3000_C8OZAH8N (verified in driver)
   Source: GitHub PR #1166 by chernals

MEDIUM PRIORITY - ZIGBEE2MQTT SUPPORTED (3):

6. bulb_rgbw: +1 ID (12 â†’ 13)
   â€¢ _TZ3000_ZMY4LSLW
   Source: Z2M database
   Reason: TS0505B RGBW variant

7. usb_outlet_advanced: +1 ID (16 â†’ 17)
   â€¢ _TZ3000_J4GG6D1B
   Source: Z2M database
   Reason: TS011F USB variant

8. scene_switch_4: +1 ID (3 â†’ 4)
   â€¢ _TZ3000_KGVAMGXS
   Source: Z2M database
   Reason: TS0044 4-button scene switch

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CUMUL PHASE 1 + PHASE 2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TOTAL ENRICHISSEMENT:
â€¢ Phase 1: 19 Manufacturer IDs + 4 flow triggers fixes
â€¢ Phase 2: 7 Manufacturer IDs
â€¢ TOTAL: 26 Manufacturer IDs + 4 drivers flow fixes

DRIVERS ENRICHIS (Phase 1+2):
1.  presence_sensor_radar (55â†’58) +3 + flow triggers fix
2.  motion_sensor (80â†’82) +2
3.  contact_sensor (89â†’91) +2 + flow triggers fix
4.  climate_sensor (3302â†’3305) +3
5.  power_meter (1â†’4) +3
6.  plug_energy_monitor (71â†’72) +1
7.  water_leak_sensor (38â†’40) +2 + flow triggers fix
8.  switch_1gang (185â†’187) +2
9.  curtain_motor (111â†’113) +2
10. thermostat_tuya_dp (27â†’28) +1
11. switch_4gang (11â†’12) +1
12. radiator_valve (67â†’68) +1
13. bulb_rgbw (12â†’13) +1
14. usb_outlet_advanced (16â†’17) +1
15. scene_switch_4 (3â†’4) +1
16. smoke_detector_advanced - flow triggers fix

TOTAL: 16 drivers enrichis/corrigÃ©s

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DEVICES FORUM TRAITÃ‰S
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Page 45/46 - Presence Sensor (_TZE204_ztqnh5cg):
   Problem: Flow triggers not firing
   Status: FIXED - Flow registration added (commit efcce36261)

âœ… Page 44 - PJ-1203A Energy Meter (_TZE204_81yrt3lo):
   Status: Manufacturer ID added to power_meter driver

âœ… Page 42 - eWeLink Temperature Sensor (CK-TLSR8656-SS5-01):
   Status: Manufacturer ID "eWeLink" added to climate_sensor

âš ï¸ Page 43 - ZG-204ZM Presence Sensor:
   Issue: Missing static_detection_distance property
   Status: INVESTIGATING - requires DP mapping verification

ğŸ” Page 45 - Smart Switch (Cam):
   Status: NEED_INFO - waiting diagnostic log + manufacturer ID

ğŸ” Page 43 - Unknown Device (blutch32):
   Status: NEED_INFO - waiting user response

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SCRIPTS CRÃ‰Ã‰S (6 nouveaux)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Phase 1:
1. scripts/enrich_from_community_reports.js
   - Enrichissement automatique depuis rapports communautÃ©
   - VÃ©rification flow triggers registration
   - Rapport: COMMUNITY_ENRICHMENT_REPORT.json

2. scripts/fix_missing_flow_registrations.js
   - Correction automatique flow triggers manquants
   - Ajout registration + runListeners

Phase 2:
3. scripts/scan_all_community_sources.js
   - Scan exhaustif forum + GitHub + Z2M
   - Rapport: PHASE2_ENRICHMENT_REPORT.json

4. scripts/apply_phase2_enrichment.js
   - Application enrichissement phase 2
   - 7 IDs ajoutÃ©s

Documentation:
5. COMMUNITY_ANALYSIS_COMPLETE.md
   - Analyse exhaustive tous messages forum
   - Images devices, diagnostic logs
   - Actions requises par prioritÃ©

6. PHASE2_ENRICHMENT_REPORT.json
   - Rapport dÃ©taillÃ© sources multiples
   - Recommandations immÃ©diates/court/long terme

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SOURCES ANALYSÃ‰ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FORUM HOMEY:
â€¢ Pages 1-46 analysÃ©es (900+ messages)
â€¢ 4 devices identifiÃ©s et traitÃ©s
â€¢ 2 issues en attente infos user
â€¢ 1 issue investigating (ZG-204ZM)
â€¢ 3 images devices analysÃ©es

GITHUB:
â€¢ Repository: JohanBendz/com.tuya.zigbee (rÃ©fÃ©rence)
â€¢ PRs analysÃ©es: #1171 (eWeLink), #1166 (PIR sensor)
â€¢ Issues fermÃ©es: Solutions extraites
â€¢ Patterns manufacturer: GIRIER, eWeLink identifiÃ©s

ZIGBEE2MQTT:
â€¢ Database consultÃ©e
â€¢ 15 devices cross-referenced
â€¢ 6 devices manquants identifiÃ©s
â€¢ 8 devices prioritaires ajoutÃ©s (Phase 1+2)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PATTERNS IDENTIFIÃ‰S
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

NOUVEAUX MANUFACTURERS:
â€¢ eWeLink - Compatible Tuya (non-Tuya brand)
â€¢ GIRIER - Nouvelle marque Tuya
â€¢ SQ510A - Product ID as manufacturer pattern

VARIANTS FIRMWARE:
â€¢ _TZE200_ vs _TZE204_ - MÃªme device, firmware diffÃ©rent
â€¢ Case sensitivity - DÃ©jÃ  normalisÃ© (uppercase)

FLOW TRIGGERS PATTERN:
â€¢ Bug rÃ©current: Flow cards dÃ©finis mais non enregistrÃ©s
â€¢ Solution: Systematic registration check + auto-fix
â€¢ PrÃ©vention: Ajout au validation script

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STATISTIQUES FINALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Manufacturer IDs ajoutÃ©s: 26 (Phase 1: 19, Phase 2: 7)
Flow triggers fixes: 4 drivers (16 triggers + 4 conditions)
Drivers enrichis/corrigÃ©s: 16
Backups crÃ©Ã©s: 20
Scripts crÃ©Ã©s: 6
Documentation crÃ©Ã©e: 2 fichiers

Coverage amÃ©liorÃ©:
â€¢ Thermostats: +3.7%
â€¢ Radiator valves: +1.5%
â€¢ Switches 4-gang: +9%
â€¢ Scene switches: +33%
â€¢ USB outlets: +6%
â€¢ RGBW bulbs: +8%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
VALIDATION FINALE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… homey app validate --level publish: PASSED
âœ… homey app build: SUCCESS
âœ… All flow triggers properly registered
âœ… All IDs case-normalized (uppercase)
âœ… No conflicts detected
âœ… Backups created for all changes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
RECOMMANDATIONS FUTURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMMÃ‰DIAT:
â€¢ Follow-up forum users (Cam, blutch32)
â€¢ ZG-204ZM static_detection_distance investigation
â€¢ Forum post announcement v5.5.435

COURT TERME:
â€¢ Monthly Z2M database sync
â€¢ GitHub issues monitoring
â€¢ User feedback collection

LONG TERME:
â€¢ Automated Z2M sync script
â€¢ GitHub webhook monitoring
â€¢ Forum scraping automation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
COMMITS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Phase 1: 9900df496d - 19 IDs + 4 flow fixes
Phase 2: <current> - 7 IDs Z2M+GitHub

VERSION: 5.5.434 â†’ 5.5.435
STATUS: âœ… PRODUCTION READY - COMMUNITY ENRICHED (PHASE 1+2)
DATE: 10 janvier 2026
