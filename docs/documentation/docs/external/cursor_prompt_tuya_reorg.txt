---# ğŸ§  Cursor Mega Prompt â€” Reorganisation & Full Automation for `com.tuya.zigbee` Project## ğŸ” CONTEXT & GOALSYou are tasked with fully reprocessing, auditing, correcting, reorganizing and enhancing the `com.tuya.zigbee` and `tuya-light` repositories. You must:- âœ… Reparse **all actions, history, context, and rules from the last 95 hours**- âœ… Reapply everything that was lost before the last crash or queue purge- âœ… Restore and enrich all missing files, branches, folders, CI/CD, documentation and drivers- âœ… Harmonize configuration: distinguish personal/machine files from public project files (e.g., `.ps1`, `.sh` should NOT be in the repo root)- âœ… Auto-sync `tuya-light` monthly from the `master` branch- âœ… Apply device contributions from `https://github.com/gpmachado/HomeyPro-Tuya-Devices`- âœ… Consider regional challenges (e.g. Brazil import tax), and support devices tested in constrained environments- âœ… Support fallback restoration through ZIP archives (master + tuya-light)- âœ… Ensure automated commit propagation across all branches (master, tuya-light)- âœ… Resume and enrich the TODO queue after crashes or queue loss- âœ… Generate a clone/dump of the current `tuya-light` branch as a fallback repository---## ğŸ“¦ PROJECT STRUCTURE REORGANIZATION### ğŸ”„ Reorganize `/docs` logically:- `/docs/index.md` â†’ EN Homey Project Overview- `/docs/fr/index.md` â†’ FR translation- `/docs/nl/index.md`, `/docs/ta/index.md` â†’ placeholders- `/docs/specs/` â†’ device cluster specs- `/docs/devices/` â†’ list of supported/unsupported devices- `/docs/tools/` â†’ documentation on available tools/scripts- `/docs/matrix/driver-matrix.md` â†’ generated compatibility matrix### ğŸ§¹ Clean all folders:- Move any misplaced `*.ps1`, `*.sh` to `tools/`- Remove or ignore machine-specific config files (`RestoreAndRebuild.ps1`, temp logs, `.cursor`)- Ensure `.gitignore` excludes config, `.cursor`, temp/cache folders, `.env` files- Only include useful driver/CI/docs data in the final repositories---## ğŸš€ AUTOMATION TASKS FOR CURSOR1. **Import and reprocess these inputs**: - All `cursor_*` prompts and queue files - Extract configuration from `D:/download/fold/*` - Re-read clipboard (`Win+V`) or memory recovery for recent TODO items2. **Restore queue and actions lost during crash**: - Use available snapshots or recovery hints - Rebuild `cursor_todo_queue.md`, mark done/in progress accurately - Ensure queue is saved regularly and resumes on every Cursor restart3. **Generate and enrich the README.md**: - Merge and re-analyze all previous versions of the `README.md` files - Rebuild the most complete, beautiful, structured, and functional README possible - Enrich with updated scope, project goals, structure, device matrix, workflows, and visual layout - Link clearly to `tuya-light` as fallback/minimal mirror4. **Rebuild and enrich all other key project files**: - Perform intelligent enhancements (not destructive rewriting) - Improve clarity, add comments where needed, revalidate workflows and `*.yml` - Ensure all regenerated files fit repository logic and intent5. **Ensure `tuya-light` follows its minimal philosophy**: - Only `.driver.compose.json` allowed - No `.ps1`, `.sh`, `.cursor`, `.md`, `.yml`, `.test.js`, `.log`, or temporary files should exist - Must remain a fallback-only branch - Add GitHub Action that **fails** if non-driver files are committed to `tuya-light` - README must clearly explain this minimal fallback role - Regular language normalization to English as first/default - Generate a dump clone of this branch for long-term fallback use---## ğŸŒ GIT TASKS- Push and sync all cleaned commits to all branches (master, tuya-light)- Enforce consistent history, timestamps, and formatting- Create or restore `.github/workflows/*.yml` with correct jobs: - Validate drivers - Deploy GitHub Pages - Sync tuya-light monthly - Enforce tuya-light content rule (only drivers) - Zip fallback master & lite generation upon commit/tag---## ğŸŒ THIRD-PARTY INTEGRATION- Audit and integrate useful contributions from: - `gpmachado/HomeyPro-Tuya-Devices`- Cross-validate Zemismart/NovaDigital drivers using: - `cc2531`, Z2M, ZHA, Hubitat references - BoundCluster, PowerOnState, retry mechanisms- Accept AI-assisted `.driver.compose.json` and structured community enhancements---## ğŸ§  INTELLIGENCE TASKS- Translate docs EN â‡„ FR â‡„ NL â‡„ TA using internal tools or local scripts- Audit unclear or experimental drivers based on diagnostics and cluster analysis- Suggest improvements or new device support based on configuration comparison- Automatically retry tasks that fail with safe fallback logic---## ğŸ“Œ FINAL OBJECTIVEThe final `master` and `tuya-light` branches must be:- Clean, auto-synced, production-ready- Free from local/machine-specific artifacts- Aligned with best practices from Homey SDK3 projects- Fully auto-maintainable by Cursor- Multi-language compatible- Accompanied by ZIP fallbacks for both main and lite use cases- Clearly documented with a fully regenerated README, workflows, and visual matrix---ğŸ“£ Begin immediately. Apply all available context. If files are missing or corrupted, recreate them according to rules above. Push only when fully verified.