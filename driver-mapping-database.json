{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Universal Tuya Zigbee - Driver Mapping Database",
  "description": "Centralized database for manufacturer/model to driver mapping - Enriched from JohanBendz PRs + Zigbee2MQTT",
  "version": "5.2.97",
  "lastUpdated": "2025-12-02",
  "sources": [
    "JohanBendz/com.tuya.zigbee PRs",
    "Zigbee2MQTT tuya.ts",
    "Community diagnostics"
  ],
  "devices": {
    "TS0601": {
      "description": "Tuya DP devices (cluster 0xEF00)",
      "type": "tuya_dp",
      "cluster": "0xEF00",
      "manufacturers": {
        "_TZE284_gyzlwu5q": {
          "name": "Smoke + Temp + Humidity Sensor",
          "driver": "sensor_smoke_climate",
          "source": "JohanBendz PR",
          "capabilities": [
            "alarm_smoke",
            "measure_temperature",
            "measure_humidity",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "alarm_smoke",
              "parser": "boolean"
            },
            "2": {
              "capability": "measure_temperature",
              "parser": "divide_by_10",
              "unit": "°C"
            },
            "3": {
              "capability": "measure_humidity",
              "parser": "identity",
              "unit": "%"
            },
            "15": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            }
          }
        },
        "_TZE200_y8jijhba": {
          "name": "PIR Motion Sensor",
          "driver": "motion_sensor_2",
          "source": "JohanBendz PR",
          "capabilities": [
            "alarm_motion",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "alarm_motion",
              "parser": "boolean"
            },
            "4": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            }
          }
        },
        "_TZE200_2aaelwxk": {
          "name": "Radar Presence Sensor",
          "driver": "sensor_presence_radar",
          "source": "JohanBendz PR",
          "capabilities": [
            "alarm_motion",
            "target_distance",
            "radar_sensitivity"
          ],
          "dps": {
            "1": {
              "capability": "alarm_motion",
              "parser": "boolean"
            },
            "9": {
              "capability": "target_distance",
              "parser": "divide_by_100",
              "unit": "m"
            },
            "101": {
              "capability": "radar_sensitivity",
              "parser": "identity"
            }
          }
        },
        "_TZE204_iaeejhvf": {
          "name": "Radar Presence Sensor 10G",
          "driver": "sensor_presence_radar",
          "source": "JohanBendz Issue",
          "capabilities": [
            "alarm_motion",
            "measure_luminance",
            "measure_temperature",
            "measure_humidity"
          ],
          "dps": {
            "1": {
              "capability": "alarm_motion",
              "parser": "boolean"
            },
            "104": {
              "capability": "measure_luminance",
              "parser": "identity",
              "unit": "lux"
            },
            "105": {
              "capability": "measure_temperature",
              "parser": "divide_by_10",
              "unit": "°C"
            },
            "106": {
              "capability": "measure_humidity",
              "parser": "identity",
              "unit": "%"
            }
          }
        },
        "_TZE200_nv6nxo0c": {
          "name": "Moes Curtain Motor",
          "driver": "curtain_motor",
          "source": "JohanBendz Issue",
          "capabilities": [
            "windowcoverings_state",
            "windowcoverings_set"
          ],
          "dps": {
            "1": {
              "capability": "windowcoverings_state",
              "parser": "curtain_control"
            },
            "2": {
              "capability": "windowcoverings_set",
              "parser": "divide_by_100"
            }
          }
        },
        "_TZE200_ol5jlkkr": {
          "name": "Curtain Motor",
          "driver": "curtain_motor",
          "source": "JohanBendz Issue",
          "capabilities": [
            "windowcoverings_state",
            "windowcoverings_set"
          ],
          "dps": {
            "1": {
              "capability": "windowcoverings_state",
              "parser": "curtain_control"
            },
            "2": {
              "capability": "windowcoverings_set",
              "parser": "divide_by_100"
            }
          }
        },
        "_TZE200_dq8bu0pt": {
          "name": "4 Gang Wall Switch",
          "driver": "switch_4_gang",
          "source": "JohanBendz Issue",
          "capabilities": [
            "onoff",
            "onoff.2",
            "onoff.3",
            "onoff.4"
          ],
          "dps": {
            "1": {
              "capability": "onoff",
              "parser": "boolean"
            },
            "2": {
              "capability": "onoff.2",
              "parser": "boolean"
            },
            "3": {
              "capability": "onoff.3",
              "parser": "boolean"
            },
            "4": {
              "capability": "onoff.4",
              "parser": "boolean"
            }
          }
        },
        "_TZE200_dcrrztpa": {
          "name": "Wall Socket with USB-C PD",
          "driver": "socket_usb",
          "source": "JohanBendz Issue",
          "capabilities": [
            "onoff",
            "measure_power"
          ],
          "dps": {
            "1": {
              "capability": "onoff",
              "parser": "boolean"
            },
            "9": {
              "capability": "measure_power",
              "parser": "divide_by_10",
              "unit": "W"
            }
          }
        },
        "_TZE200_rxq4iti9": {
          "name": "Temperature Humidity Sensor",
          "driver": "sensor_climate_tuya",
          "source": "JohanBendz Issue",
          "capabilities": [
            "measure_temperature",
            "measure_humidity",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "measure_temperature",
              "parser": "divide_by_10",
              "unit": "°C"
            },
            "2": {
              "capability": "measure_humidity",
              "parser": "identity",
              "unit": "%"
            },
            "4": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            }
          }
        },
        "_TZE284_vvmbj46n": {
          "name": "Climate Monitor",
          "driver": "sensor_climate_tuya",
          "capabilities": [
            "measure_temperature",
            "measure_humidity",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "measure_temperature",
              "parser": "divide_by_10",
              "unit": "°C"
            },
            "2": {
              "capability": "measure_humidity",
              "parser": "divide_by_10",
              "unit": "%"
            },
            "15": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            }
          },
          "polling": {
            "initial": "3s",
            "interval": "5m"
          }
        },
        "_TZE200_rhgsbacq": {
          "name": "Presence Radar Sensor",
          "driver": "sensor_presence_radar",
          "capabilities": [
            "alarm_motion",
            "target_distance",
            "radar_sensitivity",
            "illuminance_threshold",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "alarm_motion",
              "parser": "boolean",
              "unit": null
            },
            "9": {
              "capability": "target_distance",
              "parser": "divide_by_100",
              "unit": "m"
            },
            "15": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            },
            "101": {
              "capability": "radar_sensitivity",
              "parser": "identity",
              "unit": null
            },
            "102": {
              "capability": "illuminance_threshold",
              "parser": "identity",
              "unit": "lux"
            }
          },
          "polling": {
            "initial": "3s",
            "interval": "5m"
          }
        },
        "_TZE284_oitavov2": {
          "name": "Soil Tester (Temperature + Humidity + Moisture)",
          "driver": "sensor_soil_tuya",
          "capabilities": [
            "measure_temperature",
            "measure_humidity",
            "measure_temperature.soil",
            "measure_humidity.soil",
            "measure_battery"
          ],
          "dps": {
            "1": {
              "capability": "measure_temperature",
              "parser": "divide_by_10",
              "unit": "°C",
              "description": "Air temperature"
            },
            "2": {
              "capability": "measure_humidity",
              "parser": "divide_by_10",
              "unit": "%",
              "description": "Air humidity"
            },
            "3": {
              "capability": "measure_temperature.soil",
              "parser": "divide_by_10",
              "unit": "°C",
              "description": "Soil temperature"
            },
            "5": {
              "capability": "measure_humidity.soil",
              "parser": "identity",
              "unit": "%",
              "description": "Soil moisture"
            },
            "15": {
              "capability": "measure_battery",
              "parser": "identity",
              "unit": "%"
            }
          },
          "polling": {
            "initial": "3s",
            "interval": "5m"
          }
        }
      }
    },
    "TS0002": {
      "description": "2-gang switch (standard Zigbee)",
      "type": "standard_zigbee",
      "manufacturers": {
        "_TZ3000_h1ipgkwn": {
          "name": "2-Gang USB Switch/Outlet",
          "driver": "switch_2_gang",
          "capabilities": [
            "onoff",
            "onoff.gang2",
            "measure_power",
            "measure_voltage",
            "measure_current",
            "meter_power"
          ],
          "endpoints": {
            "1": {
              "clusters": [
                "onOff",
                "electricalMeasurement",
                "metering"
              ],
              "capabilities": [
                "onoff",
                "measure_power",
                "measure_voltage",
                "measure_current",
                "meter_power"
              ]
            },
            "2": {
              "clusters": [
                "onOff"
              ],
              "capabilities": [
                "onoff.gang2"
              ]
            }
          },
          "polling": {
            "initial": "immediate",
            "interval": "6h"
          }
        }
      }
    },
    "TS0043": {
      "description": "3-button wireless remote (standard Zigbee)",
      "type": "standard_zigbee",
      "manufacturers": {
        "_TZ3000_bczr4e10": {
          "name": "3-Button Wireless Controller",
          "driver": "button_wireless_3",
          "capabilities": [
            "measure_battery"
          ],
          "endpoints": {
            "1": {
              "clusters": [
                "onOff",
                "genPowerCfg"
              ],
              "button": 1
            },
            "2": {
              "clusters": [
                "onOff"
              ],
              "button": 2
            },
            "3": {
              "clusters": [
                "onOff"
              ],
              "button": 3
            }
          },
          "battery": {
            "type": "CR2032",
            "cluster": "genPowerCfg",
            "reportOnWake": true
          },
          "polling": {
            "initial": "on_wake",
            "interval": "6h"
          }
        }
      }
    },
    "TS0044": {
      "description": "4-button wireless remote (standard Zigbee)",
      "type": "standard_zigbee",
      "manufacturers": {
        "_TZ3000_bgtzm4ny": {
          "name": "4-Button Wireless Controller",
          "driver": "button_wireless_4",
          "capabilities": [
            "measure_battery"
          ],
          "endpoints": {
            "1": {
              "clusters": [
                "onOff",
                "genPowerCfg"
              ],
              "button": 1
            },
            "2": {
              "clusters": [
                "onOff"
              ],
              "button": 2
            },
            "3": {
              "clusters": [
                "onOff"
              ],
              "button": 3
            },
            "4": {
              "clusters": [
                "onOff"
              ],
              "button": 4
            }
          },
          "battery": {
            "type": "CR2032",
            "cluster": "genPowerCfg",
            "reportOnWake": true
          },
          "polling": {
            "initial": "on_wake",
            "interval": "6h"
          }
        }
      }
    },
    "TS0215A": {
      "description": "SOS Emergency Button (IAS Zone)",
      "type": "standard_zigbee_ias",
      "manufacturers": {
        "_TZ3000_0dumfk2z": {
          "name": "SOS Emergency Button",
          "driver": "button_sos",
          "capabilities": [
            "alarm_generic",
            "measure_battery"
          ],
          "endpoints": {
            "1": {
              "clusters": [
                "ssIasZone",
                "genPowerCfg"
              ],
              "iasZone": true
            }
          },
          "battery": {
            "type": "CR2450",
            "cluster": "genPowerCfg",
            "reportOnWake": true
          },
          "polling": {
            "initial": "on_wake",
            "interval": "6h"
          }
        }
      }
    }
  },
  "parsers": {
    "identity": {
      "description": "Return value as-is",
      "function": "v => v"
    },
    "boolean": {
      "description": "Convert to boolean",
      "function": "v => Boolean(v)"
    },
    "divide_by_10": {
      "description": "Divide value by 10 (temp, humidity)",
      "function": "v => typeof v === 'number' ? v / 10 : v"
    },
    "divide_by_100": {
      "description": "Divide value by 100 (distance cm to m)",
      "function": "v => typeof v === 'number' ? v / 100 : v"
    },
    "divide_by_1000": {
      "description": "Divide value by 1000 (mA to A)",
      "function": "v => typeof v === 'number' ? v / 1000 : v"
    }
  },
  "driver_rules": {
    "usb_outlet": {
      "deprecated": true,
      "reason": "Driver does not exist",
      "mapTo": {
        "1gang": "switch_1_gang",
        "2gang": "switch_2_gang",
        "3gang": "switch_3_gang"
      }
    },
    "button_wireless": {
      "note": "Buttons are CONTROLLERS, not CONTROLLED",
      "capabilities": [
        "measure_battery"
      ],
      "forbidden_capabilities": [
        "onoff",
        "dim"
      ],
      "reason": "Buttons send commands, they don't receive them"
    }
  },
  "detection_priority": {
    "order": [
      "button_remote_wireless",
      "sos_button",
      "usb_outlet",
      "switch",
      "dimmer",
      "sensor_tuya_dp",
      "sensor_standard"
    ],
    "rules": {
      "button_remote_wireless": {
        "check": "driver_name_contains_button",
        "confidence": 0.99
      },
      "sos_button": {
        "check": "has_ias_zone",
        "confidence": 0.99
      },
      "usb_outlet": {
        "check": "model_contains_usb_or_outlet",
        "confidence": 0.98,
        "mapTo": "switch"
      },
      "sensor_tuya_dp": {
        "check": "has_cluster_0xEF00",
        "confidence": 0.95
      }
    }
  },
  "common_issues": {
    "battery_not_showing": {
      "devices": [
        "TS0043",
        "TS0044",
        "TS0215A"
      ],
      "cause": "Battery reports on wake only",
      "solution": "Press button to wake device",
      "fixed_in": "v4.9.322"
    },
    "ts0601_no_data": {
      "devices": [
        "TS0601 sensors"
      ],
      "cause": "Cluster 0xEF00 not detected or listeners not setup",
      "solution": "Emergency fix forces detection",
      "fixed_in": "v4.9.323"
    },
    "usb_outlet_wrong_driver": {
      "devices": [
        "USB outlets/switches"
      ],
      "cause": "usb_outlet driver does not exist",
      "solution": "Map to switch_X_gang drivers",
      "fixed_in": "v4.9.324"
    },
    "migration_queue_crash": {
      "devices": [
        "All devices"
      ],
      "cause": "Invalid homey instance parameter",
      "solution": "Pass device.homey as first parameter",
      "fixed_in": "v4.9.322"
    }
  },
  "tuyaDpMappings": {
    "climate_sensor": {
      "1": {
        "name": "temperature",
        "type": "value",
        "factor": 10,
        "capability": "measure_temperature"
      },
      "2": {
        "name": "humidity",
        "type": "value",
        "capability": "measure_humidity"
      },
      "4": {
        "name": "battery",
        "type": "value",
        "capability": "measure_battery"
      }
    },
    "motion_sensor": {
      "1": {
        "name": "occupancy",
        "type": "bool",
        "capability": "alarm_motion"
      },
      "4": {
        "name": "battery",
        "type": "value",
        "capability": "measure_battery"
      },
      "9": {
        "name": "illuminance",
        "type": "value",
        "capability": "measure_luminance"
      },
      "12": {
        "name": "sensitivity",
        "type": "enum",
        "capability": "motion_sensitivity"
      }
    },
    "motion_sensor_radar_mmwave": {
      "1": {
        "name": "presence",
        "type": "bool",
        "capability": "alarm_motion"
      },
      "2": {
        "name": "sensitivity",
        "type": "value",
        "capability": "radar_sensitivity"
      },
      "3": {
        "name": "minimum_range",
        "type": "value",
        "factor": 100,
        "capability": "radar_min_range"
      },
      "4": {
        "name": "maximum_range",
        "type": "value",
        "factor": 100,
        "capability": "radar_max_range"
      },
      "9": {
        "name": "illuminance",
        "type": "value",
        "capability": "measure_luminance"
      },
      "101": {
        "name": "detection_delay",
        "type": "value",
        "factor": 10,
        "capability": "radar_detection_delay"
      },
      "102": {
        "name": "fading_time",
        "type": "value",
        "factor": 10,
        "capability": "radar_fading_time"
      },
      "103": {
        "name": "cli_mode",
        "type": "enum"
      },
      "104": {
        "name": "temperature",
        "type": "value",
        "factor": 10,
        "capability": "measure_temperature"
      },
      "105": {
        "name": "humidity",
        "type": "value",
        "capability": "measure_humidity"
      },
      "106": {
        "name": "self_test",
        "type": "enum"
      }
    },
    "contact_sensor": {
      "1": {
        "name": "contact",
        "type": "bool",
        "capability": "alarm_contact"
      },
      "4": {
        "name": "battery",
        "type": "value",
        "capability": "measure_battery"
      }
    },
    "curtain_motor": {
      "1": {
        "name": "state",
        "type": "enum",
        "values": [
          "open",
          "stop",
          "close"
        ],
        "capability": "windowcoverings_state"
      },
      "2": {
        "name": "position",
        "type": "value",
        "capability": "windowcoverings_set"
      },
      "3": {
        "name": "position",
        "type": "value",
        "capability": "windowcoverings_set"
      },
      "5": {
        "name": "direction",
        "type": "enum",
        "values": [
          "forward",
          "back"
        ]
      },
      "7": {
        "name": "work_state",
        "type": "enum",
        "values": [
          "opening",
          "closing"
        ]
      }
    },
    "switch": {
      "1": {
        "name": "state_l1",
        "type": "bool",
        "capability": "onoff"
      },
      "2": {
        "name": "state_l2",
        "type": "bool",
        "capability": "onoff.1"
      },
      "3": {
        "name": "state_l3",
        "type": "bool",
        "capability": "onoff.2"
      },
      "4": {
        "name": "state_l4",
        "type": "bool",
        "capability": "onoff.3"
      },
      "5": {
        "name": "state_l5",
        "type": "bool",
        "capability": "onoff.4"
      },
      "6": {
        "name": "state_l6",
        "type": "bool",
        "capability": "onoff.5"
      },
      "7": {
        "name": "countdown_l1",
        "type": "value"
      },
      "13": {
        "name": "power_on_behavior_l1",
        "type": "enum",
        "values": [
          "off",
          "on",
          "previous"
        ]
      }
    },
    "dimmer": {
      "1": {
        "name": "state",
        "type": "bool",
        "capability": "onoff"
      },
      "2": {
        "name": "brightness",
        "type": "value",
        "factor": 10,
        "capability": "dim"
      },
      "3": {
        "name": "min_brightness",
        "type": "value"
      },
      "4": {
        "name": "max_brightness",
        "type": "value"
      },
      "5": {
        "name": "mode",
        "type": "enum",
        "values": [
          "white",
          "color",
          "scene"
        ]
      }
    },
    "plug": {
      "1": {
        "name": "state",
        "type": "bool",
        "capability": "onoff"
      },
      "9": {
        "name": "countdown",
        "type": "value"
      },
      "17": {
        "name": "current",
        "type": "value",
        "factor": 1000,
        "capability": "measure_current"
      },
      "18": {
        "name": "power",
        "type": "value",
        "factor": 10,
        "capability": "measure_power"
      },
      "19": {
        "name": "voltage",
        "type": "value",
        "factor": 10,
        "capability": "measure_voltage"
      },
      "20": {
        "name": "energy",
        "type": "value",
        "factor": 100,
        "capability": "meter_power"
      }
    },
    "thermostat": {
      "1": {
        "name": "state",
        "type": "bool",
        "capability": "onoff"
      },
      "2": {
        "name": "mode",
        "type": "enum",
        "values": [
          "auto",
          "heat",
          "manual"
        ]
      },
      "16": {
        "name": "current_heating_setpoint",
        "type": "value",
        "factor": 10,
        "capability": "target_temperature"
      },
      "24": {
        "name": "local_temperature",
        "type": "value",
        "factor": 10,
        "capability": "measure_temperature"
      },
      "27": {
        "name": "local_temperature_calibration",
        "type": "value",
        "factor": 10
      },
      "40": {
        "name": "child_lock",
        "type": "bool"
      }
    },
    "water_leak": {
      "1": {
        "name": "water_leak",
        "type": "bool",
        "capability": "alarm_water"
      },
      "4": {
        "name": "battery",
        "type": "value",
        "capability": "measure_battery"
      }
    },
    "smoke": {
      "1": {
        "name": "smoke",
        "type": "bool",
        "capability": "alarm_smoke"
      },
      "4": {
        "name": "battery",
        "type": "value",
        "capability": "measure_battery"
      },
      "14": {
        "name": "battery_low",
        "type": "bool",
        "capability": "alarm_battery"
      }
    },
    "gas": {
      "1": {
        "name": "gas",
        "type": "bool",
        "capability": "alarm_gas"
      },
      "2": {
        "name": "gas_value",
        "type": "value"
      }
    },
    "siren": {
      "1": {
        "name": "alarm",
        "type": "bool",
        "capability": "alarm_generic"
      },
      "5": {
        "name": "volume",
        "type": "enum",
        "values": [
          "low",
          "medium",
          "high"
        ]
      },
      "7": {
        "name": "duration",
        "type": "value"
      },
      "13": {
        "name": "alarm_state",
        "type": "enum"
      },
      "101": {
        "name": "power",
        "type": "bool",
        "capability": "onoff"
      }
    }
  },
  "exposeToCapability": {
    "temperature": "measure_temperature",
    "humidity": "measure_humidity",
    "soil_moisture": "measure_humidity",
    "illuminance": "measure_luminance",
    "illuminance_lux": "measure_luminance",
    "battery": "measure_battery",
    "battery_low": "alarm_battery",
    "occupancy": "alarm_motion",
    "presence": "alarm_motion",
    "contact": "alarm_contact",
    "water_leak": "alarm_water",
    "smoke": "alarm_smoke",
    "carbon_monoxide": "alarm_co",
    "co2": "measure_co2",
    "gas": "alarm_gas",
    "power": "measure_power",
    "voltage": "measure_voltage",
    "current": "measure_current",
    "energy": "meter_power",
    "state": "onoff",
    "brightness": "dim",
    "color_temp": "light_temperature",
    "position": "windowcoverings_set",
    "target_temperature": "target_temperature",
    "local_temperature": "measure_temperature",
    "current_heating_setpoint": "target_temperature",
    "sensitivity": "radar_sensitivity",
    "detection_delay": "radar_detection_delay",
    "fading_time": "radar_fading_time",
    "minimum_range": "radar_min_range",
    "maximum_range": "radar_max_range"
  }
}